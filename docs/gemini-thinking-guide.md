# Gemini 2.5 Pro 思考过程使用指南

## 🧠 什么是思考过程

Gemini 2.5 Pro 支持"思考过程"（Thinking Process），这是一种内部推理机制，让AI在回答问题前进行深度思考和推理。与普通的快速回答不同，思考模式让AI能够：

- 分析问题的多个角度
- 测试不同的解决方案
- 进行逐步推理
- 自我纠错和优化

## ⚙️ 配置说明

### 环境变量设置

确保你的 `.env` 文件配置正确：

```env
# 使用Gemini模型
OPENAI_MODEL=gemini-2.5-pro
OPENAI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
OPENAI_API_KEY=你的Gemini_API_KEY
```

### 思考预算配置

代码中已经为不同场景设置了不同的思考预算：

- **交易分析**: `thinkingBudget: -1` (动态思考，AI自主决定思考深度)
- **意图识别**: `thinkingBudget: 512` (较小预算，快速识别)

## 📊 日志输出示例

启用思考过程后，你会在日志中看到：

```
[INFO] 🧠 AI思考过程 {
  "model": "gemini-2.5-pro",
  "thoughts": "我需要分析这个交易对的技术指标。首先让我看看K线形态...",
  "thoughtsLength": 1250
}

[INFO] AI交易分析完成 {
  "responseLength": 2100,
  "model": "gemini-2.5-pro", 
  "tokensUsed": 4500,
  "hasThoughts": true
}
```

## 🎯 使用场景

### 适合启用思考的场景：
- ✅ 复杂的技术分析（缠论、威科夫等）
- ✅ 多时间框架综合判断
- ✅ 风险评估和策略制定
- ✅ 疑难问题诊断

### 不需要思考的场景：
- ❌ 简单的价格查询
- ❌ 基础信息回答
- ❌ 快速确认类问题

## 🔧 自定义配置

如果你想调整思考行为，可以修改 `src/ai-client.ts` 中的配置：

```typescript
// 关闭思考
enableThinking: false

// 设置固定思考预算
thinkingBudget: 1024  // 1024 tokens

// 动态思考（推荐）
thinkingBudget: -1
```

## 📈 性能影响

- **延迟**: 思考过程会增加响应时间（通常增加2-5秒）
- **Token消耗**: 思考过程会消耗额外的tokens
- **质量提升**: 分析质量和准确性显著提升

## 🚀 最佳实践

1. **复杂分析启用思考**: 对于需要深度分析的交易决策，启用思考过程
2. **监控思考内容**: 通过日志观察AI的推理过程，了解分析逻辑
3. **调整思考预算**: 根据任务复杂度调整thinkingBudget参数
4. **结合多时间框架**: 思考过程特别适合多时间框架的综合分析

## 🎉 效果对比

**无思考模式**:
```
"BTC目前处于上涨趋势，建议持有"
```

**有思考模式**:
```
思考过程: 让我分析1小时和4小时的K线形态...看到明显的支撑位...成交量配合...

"基于多时间框架分析，BTC在43200形成强支撑，4小时级别出现底背离信号，结合成交量放大，建议在43000-43200区间分批建仓，止损42800，目标位44500-45000"
```

现在你的Gemini 2.5 Pro 具备了完整的思考能力！🎯 